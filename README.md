# podircast

A simple PHP script to serve a podcast feed with audio files under the directory.

---

## Usage

```
$ git clone https://github.com/river24/podircast.git
$ cd podircast
$ cp /path/to/image.file ./image.file
$ ln -s /path/to/audio.directory ./data
$ cp config.php.sample config.php
$ vi config.php
```

### Feed Settings

```
  // Feed
  $title = 'podircast'; // Title
  $author = 'river24'; // Author
  $description = 'Directory to Podcast'; // Description
  $image_file = 'image.file'; // Image
  $lang = 'ja'; // Language
  $timezone = 'Asia/Tokyo'; // Timezone
  $data_dir = 'data'; // Data Directory
  $limit = 10; // Limit of Items
```

### Items Settings

- By these settings, the title of the item is generated by the filename of the item by using 'preg_replace()' function of PHP.
- Without these settings (just comment out the following 2 variants), the title of the item is the same as the basename of the filename.
    - `$item_title_pattern`
    - `item_title_replacement`
- This example will generate `2020年03月21日` as the title of the item named `20200321.m4a`.

```
  // Items
  $item_title_pattern = '/^([\d]{4})([\d]{2})([\d]{2})\.m4a/i';
  $item_title_replacement = '${1}年${2}月${3}日';
```

### Auth (Basic Auth) Settings (Only for Feed)

- 3 ways for the same settings

```
  // Auth (Basic Auth)
  $username = 'user';
  $password = 'pass';
```

```
  // Auth (Basic Auth)
  $username = 'user';
  $passhash = password_hash('pass', PASSWORD_DEFAULT);
```

```
  // Auth (Basic Auth)
  $username = 'user';
  $passhash = '$2y$10$JEGo6iJ6PPOc2EwPVj6/gOn3h5RbV8TgE2y.2qMtba4.q8ei.wSLG';
```

